<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="../css/style.css">
    <title>Teeworlds Protocol</title>
</head>
<body>
    <div class="header">
        <a href="../index.html">
            <img src="../img/tee.svg" alt="tee">
        </a>
        <a href="../index.html">home</a>
        <a href="fundamentals.html">fundamentals</a>
        <a href="traffic.html">traffic</a>
        <a href="snap_items.html">snap_items</a>
        <a href="system_messages.html">system_messages</a>
        <a href="game_messages.html">game_messages</a>
        <hr>
    </div>
    <div class="content">
        <h1>List of network game messages</h1>
        <p>
            There are two types of messages: system messages and game messages <br>
            This list is only covering game messages. System messages can be found <a href="system_messages.html">here</a>. <br>
            <br>
            When the client and server exchange packets.
            An integer field which usually does not exceed one byte.
            Is indicating which type of message was sent.
            This field is called the message id.
            These message ids are defined in generated/protocol.h
            which is generated by
            <a href="https://github.com/teeworlds/teeworlds/blob/26d24ec061d44e6084b2d77a9b8a0a48e354eba6/datasrc/network.py">
                datasrc/network.py
            </a>
            which also includes the message payload.
            There can be multiple messages in so called chunks in one teeworlds packet.
            <br>
            <br>
            In the list below you will find those message.
            With their name, id and payload.
        </p>
        <hr>
        <h2 id="NETMSG_INVALID"><a href="#NETMSG_INVALID">NETMSG_INVALID</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 0 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_MOTD"><a href="#NETMSGTYPE_SV_MOTD">NETMSGTYPE_SV_MOTD</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 1 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_BROADCAST"><a href="#NETMSGTYPE_SV_BROADCAST">NETMSGTYPE_SV_BROADCAST</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 2 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_CHAT"><a href="#NETMSGTYPE_SV_CHAT">NETMSGTYPE_SV_CHAT</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 3 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_TEAM"><a href="#NETMSGTYPE_SV_TEAM">NETMSGTYPE_SV_TEAM</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 4 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_KILLMSG"><a href="#NETMSGTYPE_SV_KILLMSG">NETMSGTYPE_SV_KILLMSG</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 5 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_TUNEPARAMS"><a href="#NETMSGTYPE_SV_TUNEPARAMS">NETMSGTYPE_SV_TUNEPARAMS</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 6 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_EXTRAPROJECTILE"><a href="#NETMSGTYPE_SV_EXTRAPROJECTILE">NETMSGTYPE_SV_EXTRAPROJECTILE</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 7 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_READYTOENTER"><a href="#NETMSGTYPE_SV_READYTOENTER">NETMSGTYPE_SV_READYTOENTER</a></h2>
        <p>
            <strong>Sender:</strong> Server <br>
            <strong>Recipient:</strong> Client <br>
            <strong>Message ID:</strong> 8 <br>
            <strong>Response to:</strong> <a href="#NETMSGTYPE_CL_STARTINFO">NETMSGTYPE_CL_STARTINFO</a> <br>
            <strong>Expected response:</strong> <a href="system_messages.html#NETMSG_ENTERGAME">NETMSG_ENTERGAME</a> <br>
            It is sent by the server as a response to <a href="#NETMSGTYPE_CL_STARTINFO">NETMSGTYPE_CL_STARTINFO</a>
            in the method
            <a href="https://github.com/teeworlds/teeworlds/blob/26d24ec061d44e6084b2d77a9b8a0a48e354eba6/src/game/server/gamecontext.cpp#L1157-L1158">
                CGameContext::OnMessage(int MsgID, CUnpacker *pUnpacker, int ClientID)
            </a>
            <pre class="code-snippet">
                <code>
    CNetMsg_Sv_ReadyToEnter m;
    Server()->SendPackMsg(&m, MSGFLAG_VITAL|MSGFLAG_FLUSH, ClientID);
                </code>
            </pre>
            It is processed by the client in
            <a href="https://github.com/teeworlds/teeworlds/blob/master/src/game/client/gameclient.cpp#L994-L997">
                CGameClient::OnMessage(int MsgId, CUnpacker *pUnpacker)
            </a>
            <pre class="code-snippet">
                <code>
    else if(MsgId == NETMSGTYPE_SV_READYTOENTER)
    {
        Client()->EnterGame();
    }
                </code>
            </pre>
            Which calls <code>CClient::EnterGame()</code>
            which then calls <code>CClient::SendEnterGame()</code>
            <pre class="code-snippet">
                <code>
    void CClient::SendEnterGame()
    {
        CMsgPacker Msg(<a href="system_messages.html#NETMSG_ENTERGAME">NETMSG_ENTERGAME</a>, true);
        SendMsg(&Msg, MSGFLAG_VITAL|MSGFLAG_FLUSH);
    }
                </code>
            </pre>
            Where it responds with <a href="system_messages.html#NETMSG_ENTERGAME">NETMSG_ENTERGAME</a>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_WEAPONPICKUP"><a href="#NETMSGTYPE_SV_WEAPONPICKUP">NETMSGTYPE_SV_WEAPONPICKUP</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 9 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_EMOTICON"><a href="#NETMSGTYPE_SV_EMOTICON">NETMSGTYPE_SV_EMOTICON</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 10 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_VOTECLEAROPTIONS"><a href="#NETMSGTYPE_SV_VOTECLEAROPTIONS">NETMSGTYPE_SV_VOTECLEAROPTIONS</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 11 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_VOTEOPTIONLISTADD"><a href="#NETMSGTYPE_SV_VOTEOPTIONLISTADD">NETMSGTYPE_SV_VOTEOPTIONLISTADD</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 12 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_VOTEOPTIONADD"><a href="#NETMSGTYPE_SV_VOTEOPTIONADD">NETMSGTYPE_SV_VOTEOPTIONADD</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 13 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_VOTEOPTIONREMOVE"><a href="#NETMSGTYPE_SV_VOTEOPTIONREMOVE">NETMSGTYPE_SV_VOTEOPTIONREMOVE</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 14 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_VOTESET"><a href="#NETMSGTYPE_SV_VOTESET">NETMSGTYPE_SV_VOTESET</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 15 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_VOTESTATUS"><a href="#NETMSGTYPE_SV_VOTESTATUS">NETMSGTYPE_SV_VOTESTATUS</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 16 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_SERVERSETTINGS"><a href="#NETMSGTYPE_SV_SERVERSETTINGS">NETMSGTYPE_SV_SERVERSETTINGS</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 17 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_CLIENTINFO"><a href="#NETMSGTYPE_SV_CLIENTINFO">NETMSGTYPE_SV_CLIENTINFO</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 18 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_GAMEINFO"><a href="#NETMSGTYPE_SV_GAMEINFO">NETMSGTYPE_SV_GAMEINFO</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 19 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_CLIENTDROP"><a href="#NETMSGTYPE_SV_CLIENTDROP">NETMSGTYPE_SV_CLIENTDROP</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 20 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_GAMEMSG"><a href="#NETMSGTYPE_SV_GAMEMSG">NETMSGTYPE_SV_GAMEMSG</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 21 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_DE_CLIENTENTER"><a href="#NETMSGTYPE_DE_CLIENTENTER">NETMSGTYPE_DE_CLIENTENTER</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 22 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_DE_CLIENTLEAVE"><a href="#NETMSGTYPE_DE_CLIENTLEAVE">NETMSGTYPE_DE_CLIENTLEAVE</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 23 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_CL_SAY"><a href="#NETMSGTYPE_CL_SAY">NETMSGTYPE_CL_SAY</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 24 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_CL_SETTEAM"><a href="#NETMSGTYPE_CL_SETTEAM">NETMSGTYPE_CL_SETTEAM</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 25 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_CL_SETSPECTATORMODE"><a href="#NETMSGTYPE_CL_SETSPECTATORMODE">NETMSGTYPE_CL_SETSPECTATORMODE</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 26 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_CL_STARTINFO"><a href="#NETMSGTYPE_CL_STARTINFO">NETMSGTYPE_CL_STARTINFO</a></h2>
        <p>
            <strong>Sender:</strong> Client <br>
            <strong>Recipient:</strong> Server <br>
            <strong>Message ID:</strong> 27 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_CL_KILL"><a href="#NETMSGTYPE_CL_KILL">NETMSGTYPE_CL_KILL</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 28 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_CL_READYCHANGE"><a href="#NETMSGTYPE_CL_READYCHANGE">NETMSGTYPE_CL_READYCHANGE</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 29 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_CL_EMOTICON"><a href="#NETMSGTYPE_CL_EMOTICON">NETMSGTYPE_CL_EMOTICON</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 30 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_CL_VOTE"><a href="#NETMSGTYPE_CL_VOTE">NETMSGTYPE_CL_VOTE</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 31 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_CL_CALLVOTE"><a href="#NETMSGTYPE_CL_CALLVOTE">NETMSGTYPE_CL_CALLVOTE</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 32 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_SKINCHANGE"><a href="#NETMSGTYPE_SV_SKINCHANGE">NETMSGTYPE_SV_SKINCHANGE</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 33 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_CL_SKINCHANGE"><a href="#NETMSGTYPE_CL_SKINCHANGE">NETMSGTYPE_CL_SKINCHANGE</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 34 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_RACEFINISH"><a href="#NETMSGTYPE_SV_RACEFINISH">NETMSGTYPE_SV_RACEFINISH</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 35 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_CHECKPOINT"><a href="#NETMSGTYPE_SV_CHECKPOINT">NETMSGTYPE_SV_CHECKPOINT</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 36 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_COMMANDINFO"><a href="#NETMSGTYPE_SV_COMMANDINFO">NETMSGTYPE_SV_COMMANDINFO</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 37 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_SV_COMMANDINFOREMOVE"><a href="#NETMSGTYPE_SV_COMMANDINFOREMOVE">NETMSGTYPE_SV_COMMANDINFOREMOVE</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 38 <br>
        </p>
        <hr>
        <h2 id="NETMSGTYPE_CL_COMMAND"><a href="#NETMSGTYPE_CL_COMMAND">NETMSGTYPE_CL_COMMAND</a></h2>
        <p>
            <strong>Sender:</strong>  <br>
            <strong>Recipient:</strong>  <br>
            <strong>Message ID:</strong> 39 <br>
        </p>
    </div> <!-- content -->
    <footer>
        <hr>
        <div class="footer">
            <!-- Icon-link to source code on GitHub -->
            <a class="github" href="https://github.com/ChillerDragon/teeworlds-protocol" target="_blank" rel="noopener" aria-label="Source code">
                <!-- icon: https://materialdesignicons.com/icon/github -->
                <svg viewBox="0 0 24 24" class="github">
                    <path d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z" />
                </svg>
            </a>
            <span>
                ChillerDragon - 2023
            </span>
        </div>
    </footer>
</body>
